{% extends 'base.html.twig' %}

{% block title %}Calendrier{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@5.6.0/main.css" integrity="sha256-ejA/z0dc7D+StbJL/0HAnRG/Xae3yS2gzg0OAnIURC4=" crossorigin="anonymous">
{% endblock %}


{% block javascripts %}
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.6.0/main.js" integrity="sha256-IrEwgwFBWa3kUOm8+TXmylcQ4oUJn58Iy5V7K39TnT0=" crossorigin="anonymous"></script>
    <script>
        window.onload = () =>{
            let calendarElt = document.querySelector("#calendar")

            let calendar = new FullCalendar.Calendar(calendarElt, {
                initialView: 'dayGridMonth',
                locale: 'fr',
                timeZone: 'Europe/Paris',
                events: {{ calendar|raw }},
                customButtons: {
                    addEvent:{
                        text: 'Créer un événement',
                        click: function() {
                            window.location.href ="{{ path('event_add') }}"
                        }
                    }
                },
                headerToolbar: {
                    start:'prev,next today',
                    center: 'title',
                    end: 'addEvent, dayGridMonth,timeGridWeek,timeGridDay'
                }
            }
            )

            calendar.render();
        }
    </script>
{% endblock %}


{% block body %}
<div id="calendar">

</div>
{% endblock %}
